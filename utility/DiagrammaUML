@startuml
 skinparam classAttributeIconSize 0

 Player "1" *-- PlayerBoard
 Player "0..9" o-- Ammo
 Player "0..3" o----- WeaponCard
 Player "0..3" o-- PowerupCard
 class Player{
     - name: String
     - id: int
     - character: Character
     - currentPosition: Square
     - phase: int
     - ammo: List<AmmoCard>
     - powerup: List<PowerupCard>
     - weapon: List<WeaponCard>
     - points: int
     - motto: String
     - adrenalineLevel: int
     - stackPoint: int
     - firstPlayer: boolean
     - dead: boolean
     - shootable<Player>: List
     __
     + getAll()
     + setAll()
 }

  Game "3...5" - Player
  class Game{
    - numberPlayers: int
    - board: Board
    - players<Player>: List
    - phase: int
  }

 Board "1" - Game
 Board "1...2" *---- AmmoDeck: includes
 Board "1...2" *---- PowerupDeck: includes
 Board "1...1" *---- WeaponDeck: includes
 class Board << (S,#FF7700) Singleton >>{
    - field: char[5][7]
    '- skullsNumber: int
    - field: List<List<Room>>
    - killshotTrack<Player>: List
    - weaponsLeft: WeaponDeck
    - ammosLeft: AmmoDeck
    - ammosLeftover: AmmoDeck
    - powerupsLeft: PowerupDeck
    - powerupsLeftover: PowerupDeck
    '- r: Random
    __
    + getAll()
    + setAll()
 }

package GameField{
 Room "1...4" *-- Square: composed by
 Board "4...6" o-- Room
 Square <|-- SpawnSquare
 Square <|-- AmmoSquare

}

 class PlayerBoard{
    - damage: List<Player>
    - marks: List<Player>
    - deaths: int
    __
    + setAll()
    + getAll()
 }

  WeaponDeck "21" *-- WeaponCard: composed by
  class WeaponDeck{
    - WeaponCards<WeaponCard>: List
  }

  PowerupDeck "24" *-- PowerupCard: composed by
  class PowerupDeck{
    - PowerupCards<PowerupCard>:List
  }

  AmmoDeck "36" *-- AmmoTiles: composed by
  class AmmoDeck<AmmoCard>{
    - AmmoTiles<AmmoTiles>:List
  }

 AmmoTiles <|-- AmmoTilesWithAmmo
 AmmoTiles "2" *-- Ammo: made of
 AmmoTiles <|-- AmmoTilesWithPowerup
 abstract AmmoTiles{
    - ammo1: Ammo
    - ammo2: Ammo
 }

 AmmoTilesWithAmmo "1" *-- Ammo: made of
 class AmmoTilesWithAmmo{
    - ammo3: Ammo
 }

 'Ammo "1" *-- Color: has
 class Ammo{
    - color: Color
 }

 class AmmoTilesWithPowerup{
 }

 enum Color{
    BLU
    GIALLO
    ROSSO
    WHITE
    GREEN
    PURPLE
 }

 PowerupCard "1" *--- Ammo: made of
 class PowerupCard{
    - name: String
    - ammo: Ammo
    - effectDescription: String
 }

 WeaponCard "1...3" *-- Ammo: made of
 'WeaponCard "1" *- WeaponStatus: has
 class WeaponCard{
    - name: String
    - ammo<Ammo>: List
    - effectsDescription: String
    - status: WeaponStatus
 }

 enum WeaponStatus{
     LOADED
     PARTIALLY_LOADED
     UNLOADED
 }

 'Room "1" *-- Color
 class Room{
    - color: Color
    - squares<Square>: List
 }

 abstract Square{
    - color
 }

 AmmoSquare "1" *-- AmmoTiles
 class AmmoSquare{

 }

 SpawnSquare "3" *-- WeaponCard


@enduml
newpage
@startuml
 interface Observable <<Interface>>
    Observable <|.. Model
    Observable <|.. View
 interface Observer <<Interface>>
    Observer <|.. Controller
    Observer <|.. View
 Model <-- View: Observes
 Controller <-- View: Observes
 Controller -> Model: Update
@enduml





 newpage
@startuml *MVC Diagram
    skinparam classAttributeIconSize 0
package Client    {
    class RealPlayer{
    __
    + sendData()
    }
}
package Model{
    class GameModel{
        - modelState<>
        __

    }
}
package View {
    class ViewPlayer{
        - name: String
        - personaggio: Personaggio
        - playerBoard: Plancia
        - weapon: List<Weapon>
        - powerup: List<Powerup>
        - ammo: List<Ammo>
        - stackPoint: int
        __
        + showView(): void
    }
    class ViewBoard{
       - points: int
       - field: List<List<Room>>
       - yellowWeaponPoint: List<Weapon>
       - blueWeaponPoint: List<Weapon>
       - redWeaponPoint: List<Weapon>
       - killshotTrack: int[skullNumber]
       - stackPoint: int[4]
        __
       + showPoints(): void
    }
}

package Controller{
    class GameController{
        - game: Game
        __
        + move(Player): void
        + grab(Player): void
        + shoot(Player, Player): void
        + mark(Player, Player): void
        + overkill(Player, Player): void
        + setPhase(Player): void
        + recharge(Player): void
        + respawnPlayer(Player): void
        + update(Model): void

    }
}

interface Observable <<Interface>>
    Observable <|.. Model
    Observable <|.. View
interface Observer <<Interface>>
    Observer <|.. Controller
    Observer <|.. View

    ViewBoard "1" *-- Client
    ViewPlayer "0...5" o-- Client
    GameController -> View: observes
    GameModel <-- View: observes
    GameController <- GameModel: update



@enduml

